<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introducci√≥n a R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Paula Pereda (ppereda@correo.um.edu.uy)" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis-fonts.css" rel="stylesheet" />
    <script src="libs/fitvids-2.1.1/fitvids.min.js"></script>
    <meta name="github-repo" content="paulapereda/econometrics_I_21"/>
    <meta name="twitter:title" content="Introducci√≥n a R"/>
    <meta name="twitter:url" content="https://taller-1-econometria-1.netlify.app"/>
    <meta name="twitter:image" content="https://taller-1-econometria-1.netlify.app/social-card.png"/>
    <meta name="twitter:card" content="summary"/>
    <meta property="og:title" content="Introducci√≥n a R"/>
    <meta property="og:url" content="https://taller-1-econometria-1.netlify.app"/>
    <meta property="og:image" content="https://taller-1-econometria-1.netlify.app/social-card.png"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <link rel="stylesheet" href="my-css.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introducci√≥n a R
## Econometr√≠a I
### Paula Pereda (<a href="mailto:ppereda@correo.um.edu.uy" class="email">ppereda@correo.um.edu.uy</a>)
### 13 de agosto de 2021

---

class: inverse, middle







# Preliminares
---
#Sobre los talleres en s√≠

- .hi-pink[Viernes] de 08:00 a 09:40 | üìç Sede Sinergia Ejido (Ejido 1275) - Sal√≥n K301

- Talleres: ejercicios te√≥ricos + aplicaciones en R (intuici√≥n &amp; pr√°ctica).

- Cada dos semanas apr√≥ximadamente hay que hacer un .pink[trabajo domiciliario]. 

- .hi-purple[Trabajo final:]

    + Hasta 3 integrantes

    + 29/10: Entrega tema de trabajo de investigaci√≥n.
    
    + 21/11: Entrega trabajo de investigaci√≥n (*paper* o presentaci√≥n, c√≥digo + datos).

    + Mi mail est√° al inicio de cada presentaci√≥n, **por cualquier consulta siempre me pueden escribir.** 
---
#Sobre los talleres en s√≠

- .hi-purple[Composici√≥n de la nota final:]

    + Parcial                      -   40%

    + Trabajo de investigaci√≥n     -   30%
    
    + Pr√°cticos                    -   25%

    + Actitud y participaci√≥n      -   5%
---
# Econometr√≠a

Un econometrista aplicado&lt;sup&gt;‚Ä†&lt;/sup&gt;  necesita un conocimiento s√≥lido de (al menos) tres √°reas:

1. La __teor√≠a__ de la econometr√≠a subyacente (supuestos, resultados, fortalezas, debilidades).

2. Sab√©r c√≥mo __aplicar m√©todos te√≥ricos__ a datos reales.

3. M√©todos eficientes para __trabajar con datos __‚Äî limpiar, agregar, unir, visualizar.

__Este curso__ tiene como objetivo profundizar conocimientos en cada una de estas tres √°reas.

- 1: Como antes.
- 2‚Äì3: __.mono[R]__

.footnote[[‚Ä†]: _Econometrista aplicado_ .mono[=] Practicante de econometr√≠a, _e.g._, analista, consultor, cient√≠fico de datos.]

---
class: inverse, middle

# .mono[R]
---
layout: true
# .mono[R]

---

## ¬øQu√© es .mono[R]?

Citando a la web del [proyecto .mono[R]](https://www.r-project.org):

&gt; R es un entorno de software libre para gr√°ficos y computaci√≥n estad√≠stica. Se compila y se ejecuta en una amplia variedad de plataformas UNIX, Windows y MacOS.

¬øQu√© significa esto?

- .mono[R] fue creado para el trabajo estad√≠stico y gr√°fico requerido por la econometr√≠a.

- .mono[R] tiene una comunidad en l√≠nea bastante activa y √∫til. ([Stack Overflow](https://stackoverflow.com/questions/tagged/r), [R-Ladies](https://rladies.org/), [Grupos de usuarios de R](https://www.r-consortium.org/blog/2019/09/09/r-community-explorer-r-user-groups))

- Adem√°s, es __gratis__ y __c√≥digo abierto__.

---

## ¬øPor qu√© usar .mono[R]?

1\. .mono[R] es __gratis__ y de __c√≥digo abierto__.

2\. .mono[R] es __flexible y poderoso__‚Äî es adaptable a casi cualquier tarea, _e.g._, estad√≠stica, an√°lisis de datos espaciales, machine learning, web scraping, limpieza de datos, creaci√≥n de sitios web, estas notas de clase.

3\. _Relacionado:_ .mono[R] __no impone__ en la cantidad de observaciones, memoria o poder de procesamiento.

4\. Con dedicaci√≥n &lt;sup&gt; ‚Ä† &lt;/sup&gt; pueden obtener una herramienta __valiosa y comercial__. 

5\. üíñ __.mono[R]__


.footnote[[‚Ä†]: Aprender .mono[R] definitivamente requiere tiempo y esfuerzo.]
---

.center[
&lt;img src="images/al_principio_pero_ahora.png" width="500"&gt;]

---

.center[
&lt;img src="images/04_emotions.png" width="800"&gt;]

---

.center[
&lt;img src="images/acordes.png" width="800"&gt;]

---
.center[
&lt;img src="images/sni_2020.png" width="800"&gt;]

---
.center[
&lt;img src="images/evolucion_ratio_sd_cot-1.gif" width="800"&gt;]

---
.center[
&lt;img src="images/pptx.gif" width="800"&gt;]

---

- Aplicaciones web: https://bancodedatos-fcs.shinyapps.io/OMIF-UNICEF/
- Libros: https://www.econometrics-with-r.org/

---
layout: false
class: inverse, middle
# .mono[R] + [Conceptos claves]

---
# Descarga, actualizaci√≥n y R en l√≠nea
  
1\. Descarga

- La descarga e instalaci√≥n de .mono[R] se hace desde este link: https://cran.r-project.org/
- La descarga e instalaci√≥n de RStudio se hace desde este link: https://www.rstudio.com

2\. Actualizaci√≥n de .mono[R]

- Una manera simple desde Windows:
  

```r
install.packages("installr")
installr::updateR()
```

- Una manera simple desde Mac:
  

```r
devtools::install_github("AndreaCirilloAC/updateR")
updateR::updateR(admin_password = "PASSWORD") # "PASSWORD" es la contrase√±a del sistema
```

---
# Descarga, actualizaci√≥n y R en l√≠nea
  
3\. .mono[R] Online

Es un RStudio que se ejecuta lento pero sirve para salir de apuros: https://rstudio.cloud/plans/free

---
# R
  
.center[
    &lt;img src="images/r_consola.png" width="600"&gt;]

---
# RStudio

.center[
    &lt;img src="images/rstudio.png" width="800"&gt;]

---
# Gu√≠a para las clases

- Un block de color gris en una diapositiva significa que se inicia c√≥digo .mono[R]. Es como si hubiera una consola de .mono[R] en la diapositiva.

- Dentro del block gris un signo de numeral ('#') significa que se inicia un comentario.

- Dentro del block gris un signo de numeral y el signo '&gt;' ('&gt;') es un resultado del int√©rprete.

Ejemplo:


```r
9 + 12 # esto es una suma
```

```
&gt; [1] 21
```

---
# Resultados del int√©rprete


```r
9 + 12
```

```
&gt; [1] 21
```

```r
rnorm(15)
```

```
&gt;  [1] -0.9186628  0.1628480 -0.5013652  1.1338108 -1.2734428  0.1005302
&gt;  [7] -0.1582956 -1.1329420 -0.4972470  1.2219423 -0.2250672 -1.8447674
&gt; [13] -1.5944537 -1.0190056 -0.1151433
```

Los n√∫meros que aparecen entre par√©ntesis rectos ([]) luego de '#&gt;' indican la posici√≥n del resultado.

---
# C√≥digo incompleto

Ejemplo:



```eval
&gt; objeto_1 &lt;- seq(1, 30, 0.5)
&gt; plot(objeto_1
+
+ )
&gt;
```

- En R el signo '&gt;' (prompt) indica que el int√©rprete "est√° listo" para recibir √≥rdenes.

- Si luego de dar una orden, en lugar de aparecer nuevamente el prompt, aparece el signo de '+' indica que hay una orden incompleta. En el ejemplo de arriba lo que falta es cerrar el par√©ntesis de la funci√≥n plot().

- Si doy 'Enter' con una funci√≥n incompleta va a aparecer nuevamente el signo de '+', para salir de este ciclo debo apretar 'Esc'.

---
# Consejos para aprender

Dos consejos de [Hadley Wickham](http://adv-r.had.co.nz/Introduction.html) para aprender y mejorar la programaci√≥n en .mono[R]:

1\. Lean c√≥digo fuente. Busquen los paquetes o las funciones que usan con m√°s frecuencia y miren c√≥mo est√°n escritos.

2\. Adopten una mentalidad cient√≠fica. Si no comprenden c√≥mo funciona algo, desarrollen una hip√≥tesis, dise√±en algunos experimentos, ejec√∫tenlos y registren los resultados.

---

# Importancia del uso de scripts

Un script es un archivo en el que se escriben los comandos y las funciones que se desean guardar de una sesi√≥n de trabajo.

- .pink[Confecci√≥n:] crear estos archivos es importante para tener un historial de trabajo.
- .pink[Guardado:] El nombre del archivo debe ser lo sufcientemente claro como para refejar el contenido y encontrarlo con facilidad. En lo posible debe ser corto.
- .pink[Documentaci√≥n:] Es muy importante comentar las operaciones o creaci√≥n de funciones que se realicen para poder replicar con facilidad el trabajo. Los comentarios deben iniciar con '#'



```r
x &lt;- c(1, 8, 19)
# El objeto x es un vector de tres n√∫meros. Y esto es un comentario :)
```

---
#Paquetes

Un paquete de .mono[R] es un conjunto de funciones que pertenecen a un mismo ambiente y que -por lo com√∫n- tienen una estructura general que justifica que est√©n juntas.

Descarga:


```r
# Descargar un paquete desde CRAN
install.packages("wooldridge")

# la funci√≥n 
install.packages("...")
# descarga el paquete a la computadora
# (funciones y documentaci√≥n de las mismas)

# Descargar un paquete desde GitHub (versi√≥n del paquete en desarrollo)
install.packages("devtools")
devtools::install_github("JustinMShea/wooldridge")
```

---
Uso (cargar un paquete):



```r
# Para usar las funciones de un paquete ya descargado hay que usar la funci√≥n
library(...)
library("wooldridge")
# se puede prescindir del uso de las comillas.
# En el caso de la descarga el paquete debe estar entrecomillado
library(wooldridge)
```


---
#Ayuda


```r
help(lm) #Comando b√°sico de b√∫squeda
?lm      #√≠dem anterior
help("+") #Ayuda sobre un operador
help.search("norm") # Busca entre los paquetes instalados las
                    # funciones que contienen el termino "norm"
??norm # √≠dem anterior
apropos("mean") #Listado de funciones que contienen el termino "norm"
help(rlm, package = "MASS") # Busca la ayudad de una funci√≥n espec√≠fica
                            # de un paquete
RSiteSearch("glm") # Busca en los manuales y ficheros de ayuda de la web
                   # R-project
find("mean") #Devuelve el paquete al que pertenece la funci√≥n.
             # (el paquete debe estar cargado: library())
example(contour) # Ejecuta los ejemplos disponibles de la funci√≥n
browseVignettes() # Muestra en web las vi√±etas disponibles y el acceso
                  # a ellas. De un paquete: (package="package-name")
vignette(all = TRUE) # Muestra todas las vi√±etas disponibles en pantalla
```

Ejemplo:


```r
help(mean)
```
---

# Ficha t√©cnica de una funci√≥n

- .pink[Name:] El nombre de la funci√≥n, entre llaves '{}' el paquete al que pertenece la funci√≥n
- .pink[Description:] Breve descripci√≥n de la funci√≥n
- .pink[Usage:] Sintaxis de la funci√≥n
- .pink[Arguments:] Explicaci√≥n de los argumentos de la funci√≥n
- .pink[Value:] Caracter√≠sticas de la salida de la funci√≥n (puede ser un objeto como un valor)
- .pink[References:] Bibliograf√≠a relacionada con la funci√≥n
- .pink[See Also:] Funciones relacionadas.
- .pink[Examples:] Ejemplos de c√≥mo se usa la funci√≥n

---
#Uso de funciones
Una funci√≥n en R es una o varias sentencias de c√≥digo que realizan una operaci√≥n determinada.

Una funci√≥n tiene dos caracter√≠sticas fundamentales para su correcto uso: un .pink[nombre] y .pink[argumentos] que siempre van entre par√©ntesis.

Ejemplo: funci√≥n para obtener el promedio de un conjunto de datos

.center[
.hi-purple[mean(x, trim = 0, na.rm = FALSE, ...)]
]

- Nombre de la funci√≥n: mean
- Argumentos de la funci√≥n: x, trim, na.rm, ...

De los 4 argumentos hay dos que tienen un valor asignado mediante el signo '='. Estos son valores por defecto. Si el usuario no los modifica la funci√≥n siempre va a asumir esos valores.

---

#Uso de funciones

Cuando se usa una funci√≥n:

- Los argumentos que tienen valores por defecto pueden no llamarse cuando se ejecuta la funci√≥n. 
- Los argumentos tienen un orden que resulta importante √∫nicamente si se opta por no nombrarlos.
- Los argumentos pueden ir en distinto orden siempre que sean nombrados y asignados.

Ejemplo: todas estas opciones generan el mismo resultado


```r
mean(x = 1:10)
mean(1:10)
mean(x = c(1:10, NA), trim = 0, na.rm = TRUE)
mean(trim = 0, x = c(1:10, NA), na.rm = TRUE)
mean(c(1:10, NA), 0, TRUE)
```

---
# Objetos
En R se crea un objeto con el asignador '&lt;-'. Tambi√©n se puede usar '=' pero no es recomendable.

.center[

.hi-purple[nombre_del_objeto &lt;- contenido_del_objeto]
]


Palabras reservadas: .pink[if, break, next, TRUE, NaN, else, for, NULL, Inf, NA, FALSE, function, repeat,  while, in]

- .hi-purple[Importante:] el nombre de un objeto no puede iniciar con n√∫meros, ni signos, ni puede tener espacios en blanco.
- Relevante: R es sensible a min√∫sculas y may√∫sculas.
- Sugerencia: evitar nombrar objetos con nombres de funciones existentes.

---
# Tipos de objetos: typeof()

Los tipos de objetos m√°s frecuentes son estos:

| typeof*   |      Descripci√≥n                             |          Ejemplo          |
|-----------|:--------------------------------------------:|--------------------------:|
| logical   | un vector que contiene valores l√≥gicos       | a &lt;- c(TRUE, FALSE, TRUE) |
| double    | un vector que contiene valores reales        | a &lt;- seq(1:10, 0.3)       |
| character | un vector que contiene valores de caracteres |    a &lt;- letters[1:5]      |

---
#Estructuras de datos en R
La estructura fundamental en R es el vector. El resto de las estructuras se pueden pensar como combinaciones de vectores.

- matrix() y array(): una matriz o un arreglo es un vector con el atributo dim()(dimensi√≥n).
- data.frame(): uno o m√°s vectores del mismo largo (length()) que en el caso de un marco de datos ser√≠a con la misma cantidad de las (nrow())
- list(): un lista es un vector gen√©rico. Cada elemento de una lista puede ser de distinto tipo.

.center[
  &lt;img src="images/estructura_datos.png" width="700"&gt;]
  
---
layout: false
class: inverse, middle
# .mono[R] + [Aplicaciones]
---
exclude: true



<div class="shareagain" style="min-width:300px;margin:1em auto;">
<iframe src="https://taller-1-econometria-1.netlify.app" width="1600" height="900" style="border:2px solid currentColor;" loading="lazy" allowfullscreen></iframe>
<script>fitvids('.shareagain', {players: 'iframe'});</script>
</div>
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"self_contained": true,
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
